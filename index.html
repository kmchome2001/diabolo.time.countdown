<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>你好</title>
    <script src="/bootstrap-5.0.2-dist/js/bootstrap.js"></script>
    <link href="/bootstrap-5.0.2-dist/css/bootstrap.css" rel="stylesheet">
  </head>
<audio id="alarmSound" src="alarmSound.mp3" preload="auto"></audio>

    
   <div class="container mt-5">
        <div class="row">
            <div class="col-md-4">
                <label>第一段時間：</label><input type="text" id="timer1" class="form-control mb-2" placeholder="輸入秒數">
            </div><p></p>
            <div class="col-md-4">
                <label>第二段時間：</label><input type="text" id="timer2" class="form-control mb-2" placeholder="輸入秒數">
            </div><p></p>
            <div class="col-md-4">
                <label>第三段時間：</label><input type="text" id="timer3" class="form-control mb-2" placeholder="輸入秒數">
            </div><p></p>
        </div>
        <div class="row">
            <div class="col-md-12 text-center">
                <button class="btn btn-primary mr-2" onclick="startTimers()">開始倒數</button>
                <button class="btn btn-warning mr-2" onclick="togglePause()">暫停/繼續</button>
                <button class="btn btn-danger" onclick="resetTimers()">重新倒數</button>
            </div>
        </div>
        <audio id="alarmSound" src="alarmSound.mp3"></audio>
    </div>

    <script>
        let intervals = [];
        let paused = false;
        let timers = [];

        function startTimers() {
            timers = [
                parseInt(document.getElementById('timer1').value),
                parseInt(document.getElementById('timer2').value),
                parseInt(document.getElementById('timer3').value)
            ];
            startTimer(0);
        }

        function startTimer(index) {
            if (index >= timers.length) return;

            let count = timers[index];
            intervals[index] = setInterval(() => {
                if (!paused) {
                    console.log(`Timer ${index + 1}: ${count}`);
                    count--;
                    if (count < 1) {
                        clearInterval(intervals[index]);
                        document.getElementById('alarmSound').play();
                        if (index < timers.length - 1) {
                            startTimer(index + 1);
                        }
                    }
                }
            }, 1000);
        }

        function togglePause() {
            paused = !paused;
            if (!paused) {
                console.log("計時繼續");
            } else {
                console.log("計時暫停");
            }
        }

        function resetTimers() {
            intervals.forEach(interval => clearInterval(interval));
            paused = false;
            startTimers();
        }
    </script>
</body>
</html>
