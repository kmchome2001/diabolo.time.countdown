<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>你好</title>
    <script src="/bootstrap-5.0.2-dist/js/bootstrap.js"></script>
    <link href="/bootstrap-5.0.2-dist/css/bootstrap.css" rel="stylesheet">
  </head>
<audio id="alarmSound" src="alarmSound.mp3" preload="auto"></audio>

    
  <body>
    <div class="container" style="text-algin:center">
    <h1>高雄市扯鈴協會</h1>
    第一段時間：<input type="text" name="T1" id="T1" size="5" placeholder="請輸入秒數"><p></p>
    第二段時間：<input type="text" name="T2" id="T2" size="5" placeholder="請輸入秒數"><p></p>
    第三段時間：<input type="text" name="T3" id="T3" size="5" placeholder="請輸入秒數"><p></p>
    <button type="button" class="btn btn-primary" id="startButton">開始!!</button><label id="Dsp2"></label><label id="display"></label>
    </div>


<script>
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('startButton').addEventListener('click', function() {
                const timeInputs = [
                    parseInt(document.getElementById('T1').value),
                    parseInt(document.getElementById('T2').value),
                    parseInt(document.getElementById('T3').value)
                ];
                const display = document.getElementById('display');
                const display2 = document.getElementById('Dsp2');
                const alarmSound = document.getElementById('alarmSound');

                // 检查每个输入是否为有效的正整数
                if (timeInputs.some(time => isNaN(time) || time <= 0)) {
                    alert("請確保所有輸入均為有效的正整數秒數");
                    return;
                }

                let currentIndex = 0;

                function countdown(time) {
                    display.textContent = `倒數顯示: ${time} 秒`;
                    const countdownInterval = setInterval(() => {
                        time--;
                        display.textContent = `倒數顯示: ${time} 秒`;

                        if (time <= 0) {
                            clearInterval(countdownInterval);
                            alarmSound.play();
                            display2.textContent = `時間到! 第${currentIndex + 1}個倒數結束`;

                            currentIndex++;
                            // 继续下一个倒计时
                            if (currentIndex < timeInputs.length) {
                                countdown(timeInputs[currentIndex]);
                            }
                        }
                    }, 1000);
                }

                // 开始第一个倒计时
                countdown(timeInputs[currentIndex]);
            });
        });
    </script>  
  </body>
</html>
