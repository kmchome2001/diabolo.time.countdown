<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>你好</title>
    <script src="/bootstrap-5.0.2-dist/js/bootstrap.js"></script>
    <link href="/bootstrap-5.0.2-dist/css/bootstrap.css" rel="stylesheet">
  </head>
<audio id="alarmSound" src="alarmSound.mp3" preload="auto"></audio>

    
  <body>
    <div class="container" style="text-algin:center">
    <h1>高雄市扯鈴協會</h1>
    <input type="text" id="timer1" placeholder="輸入秒數">
    <input type="text" id="timer2" placeholder="輸入秒數">
    <input type="text" id="timer3" placeholder="輸入秒數">
    <button onclick="startTimers()">開始倒數</button>
    <button onclick="togglePause()">暫停/繼續</button>
    <button onclick="resetTimers()">重新倒數</button>
    <audio id="alarmSound" src="alarmSound.mp3"></audio>

    <script>
        let intervals = [];
        let paused = false;
        let timers = [];

        function startTimers() {
            timers = [
                parseInt(document.getElementById('timer1').value),
                parseInt(document.getElementById('timer2').value),
                parseInt(document.getElementById('timer3').value)
            ];
            startTimer(0);
        }

        function startTimer(index) {
            if (index >= timers.length) return;

            let count = timers[index];
            intervals[index] = setInterval(() => {
                if (!paused) {
                    console.log(`Timer ${index + 1}: ${count}`);
                    count--;
                    if (count < 0) {
                        clearInterval(intervals[index]);
                        if (index === timers.length - 1) {
                            document.getElementById('alarmSound').play();
                        } else {
                            startTimer(index + 1);
                        }
                    }
                }
            }, 1000);
        }

        function togglePause() {
            paused = !paused;
            if (!paused) {
                console.log("計時繼續");
            } else {
                console.log("計時暫停");
            }
        }

        function resetTimers() {
            intervals.forEach(interval => clearInterval(interval));
            paused = false;
            startTimers();
        }
    </script>
    </div>      
  </body>
</html>
